import {defineStore} from "pinia";

export const useContactData = defineStore('ContactData', {
	state: () => ({
		contactData: {
			name: '',
			email: '',
			responsibleName: '',
			positionHeld: '',
			phone: ''
		},
		message: '',
	}),
	actions: {
		async get() {
			const apiUrl = useApiUrl();
			
			const response = await $fetch(apiUrl.CONTACT_DATA,
				{
					method: 'GET',
					headers: {
						'Content-Type': 'application/json',
						'Accept': 'application/json',
						'ngrok-skip-browser-warning': 'true'
					}
				});

			try {
				this.contactData = response.data;
				this.message = "success";
			} catch (error) {
				this.contactData = {};
				this.message = error?.message || "error";
			}

		}
	}
});